# Replica and History Settings
replicaCount: 1
revisionHistoryLimit: 3

# Image Settings
image:
  name: "ebadarshad/prod-product:v1.0.0"
  pullPolicy: IfNotPresent

# Networking
service:
  port: 5002

# Ingress Settings
ingress:
  enabled: false
  # path: /dev(/|$)(.*) 

# Resources (Must be set for HPA to work)
resources:
  requests:
    cpu: "100m"
    memory: "128Mi"
  limits:
    cpu: "500m"
    memory: "256Mi"

# Health Checks (Probes)
probes:
  startupPath: "/healthz"
  startupDelay: 30
  livenessPath: "/healthz"
  livenessDelay: 15
  readinessPath: "/healthz"
  readinessDelay: 5

# Horizontal Pod Autoscaler
hpa:
  enabled: true
  minReplicas: 1
  maxReplicas: 5
  cpu:
    averageUtilization: 70
  memory:
    averageUtilization: 80

# DB Configuration
db:
  enabled: true
  user: product_user
  name: product
  password: product_pass

# Extra Envs
extraEnv:
  RABBITMQ_PRODUCT_QUEUE: product
  RABBITMQ_ORDER_QUEUE: order
  RABBITMQ_URL: amqp://rabbitmq:5672